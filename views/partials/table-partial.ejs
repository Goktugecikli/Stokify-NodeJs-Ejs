<section class="ftco-section">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-6 text-center mb-5">
                <h1 class=""> <%= header %> </h1>
            </div>
        </div>
        <div class="row">
            <div class="col-md-12">
                <% if (reports && reports.length > 0 ) { %>
                    <div class="table-wrap">
                        <table class="table table-responsive-xl">
                            <thead>
                                <tr>
                                    <!-- Dinamik olarak başlıkları yazdırma -->
                                    <% Object.keys(reports[0]).forEach(function(fieldName) { %>
                                        <th><%= fieldName %></th>
                                    <% }); %>
                                    <th>&nbsp;</th> <!-- Extra column for actions -->
                                </tr>
                            </thead>
                            <tbody>
                                <% reports.forEach(function(transaction, index) { %>
                                    <tr class="alert" role="alert" data-index="<%= index %>">
                                        <!-- Dinamik olarak içerikleri yazdırma -->
                                        <% Object.values(transaction).forEach(function(value) { %>
                                            <td><%= value %></td>
                                        <% }); %>
                                        <td>
                                            <button type="button" class="close" data-dismiss="alert"
                                                aria-label="Close" onclick="handleRowClick(event)">
                                                <span aria-hidden="true"><i class="fa fa-close"></i></span>
                                            </button>
                                        </td>
                                    </tr>
                                <% }); %>
                            </tbody>
                        </table>
                    </div>

                    <!-- Sayfalama Düğmeleri -->
                    <div class="pagination">
                        <% for (let i = 1; i <= totalPages; i++) { %>
                            <button class="page-link" onclick="changePage(<%= i %>)"><%= i %></button>
                        <% } %>
                    </div>
                <% } else { %>
                    <h3 class="detail">Veri Yok</h3>
                <% } %>
            </div>
        </div>
    </div>
</section>
<!-- 
<script>
    // Sayfa değiştirme işlemi
    function changePage(pageNumber) {
        // Yapılacak işlem: İlgili sayfaya git
        console.log("Sayfa değiştirildi:", pageNumber);
    }
</script> -->


<!-- <script>
    function handleRowClick(event) {
        // Tıklanan çarpının bulunduğu satırı bul
        const row = event.target.closest('tr');
        
        // Satırdaki hücrelerin içeriklerini al
        const cells = row.querySelectorAll('td');
        const rowData = Array.from(cells).map(cell => cell.innerText);

        // Çarpıya tıklanılan satırdaki bilgileri işle
        console.log(rowData);
        
        // Ekstra: Satırdaki verileri başka bir işleme gönderebilirsiniz
    }
</script> -->
